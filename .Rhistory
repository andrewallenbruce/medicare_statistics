mdcr_enroll_ab_36 <- readr::read_rds(here::here("data", "mdcr_enroll_ab_36.rds"))
mdcr_enroll_ab_37 <- readr::read_rds(here::here("data", "mdcr_enroll_ab_37.rds"))
mdcr_enroll_ab_37
mdcr_enroll_ab_36
mdcr_enroll_ab_34
mdcr_enroll_ab_33
mdcr_enroll_ab_8
mdcr_enroll_ab_7
mdcr_enroll_ab_6
mdcr_enroll_ab_5
mdcr_enroll_ab_4
mdcr_enroll_ab_3
mdcr_enroll_ab_2
mdcr_enroll_ab_1 |>
dplyr::select(year,
total,
total_chg,
total_pct_chg)
mdcr_enroll_ab_1 |>
dplyr::select(year,
total,
total_chg,
total_pct_chg) |>
provider:::gt_prov(
# source = gt::md("Source: [Medicare Physician & Other Practitioners: by Provider
#                                  API](https://data.cms.gov/provider-summary-by-type-of-service/medicare-physician-other-practitioners/medicare-physician-other-practitioners-by-provider)"),
title = gt::md("Medicare Provider Summary: **2014 - 2021**"),
subtitle = gt::md("Provider: **SARAH K. HUSSAIN, MD**"),
divider = c("year"),
pctchg = c("total_pct_chg"))
mdcr_enroll_ab_1 |>
dplyr::select(year,
total,
total_chg,
total_pct_chg) |>
provider:::gt_prov(
# source = gt::md("Source: [Medicare Physician & Other Practitioners: by Provider
#                                  API](https://data.cms.gov/provider-summary-by-type-of-service/medicare-physician-other-practitioners/medicare-physician-other-practitioners-by-provider)"),
title = gt::md("Medicare Provider Summary: **2014 - 2021**"),
subtitle = gt::md("Provider: **SARAH K. HUSSAIN, MD**"),
divider = c("year"),
pctchg = c("total_pct_chg")) |>
gt::cols_label(total = "Total Enrolled",
total_chg = "Change") |>
gt::cols_merge_n_pct(total_chg, total_pct_chg)
mdcr_enroll_ab_1 |>
dplyr::select(year,
total,
#total_chg,
total_pct_chg
) |>
provider:::gt_prov(
# title = gt::md("Medicare Provider Summary: **2014 - 2021**"),
#                  subtitle = gt::md("Provider: **SARAH K. HUSSAIN, MD**"),
divider = c("year"),
pctchg = c("total_pct_chg")) |>
gt::cols_label(total = "Total Enrolled",
total_pct_chg = "% Change")
mdcr_enroll_ab_1 |>
dplyr::select(year,
original_pct_chg,
ma_other_pct_chg)
mdcr_enroll_ab_1 |>
dplyr::select(year,
original_pct_chg,
ma_other_pct_chg)
mdcr_enroll_ab_1 |>
dplyr::select(year,
original_pct_chg,
ma_other_pct_chg) |>
provider:::gt_prov(divider = c("year"),
pctchg = c("original_pct_chg", "ma_other_pct_chg")) |>
gt::cols_label(original_pct_chg = "Original % Change",
ma_other_pct_chg = "Advantage % Change")
mdcr_enroll_ab_1 |>
dplyr::select(year,
total_pct_chg,
original_pct_chg,
ma_other_pct_chg) |>
provider:::gt_prov(divider = c("year"),
pctchg = c("total_pct_chg", "original_pct_chg", "ma_other_pct_chg")) |>
gt::cols_label(total_pct_chg = "Total % Change",
original_pct_chg = "Original % Change",
ma_other_pct_chg = "Advantage % Change")
mdcr_enroll_ab_2 |>
dplyr::filter(area_of_residence == "United States")
mdcr_enroll_ab_2 |>
dplyr::filter(area_of_residence == "United States") |>
dplyr::select(year, total_pct)
mdcr_enroll_ab_1
mdcr_enroll_ab_1 |>
dplyr::select(year,
total_pct_chg,
original_pct_chg,
ma_other_pct_chg,
original_pct,
ma_other_pct) |>
provider:::gt_prov(divider = c("year"),
pctchg = c("total_pct_chg",
"original_pct_chg",
"ma_other_pct_chg"),
pct = c("original_pct",
"ma_other_pct")) |>
gt::cols_label(total_pct_chg = "Total % Change",
original_pct_chg = "Original % Change",
ma_other_pct_chg = "Advantage % Change",
original_pct = "Original %",
ma_other_pct = "Advantage %")
mdcr_enroll_ab_1 |>
dplyr::select(year,
total_pct_chg,
original_pct_chg,
ma_other_pct_chg,
original_pct,
ma_other_pct) |>
provider:::gt_prov(divider = c("year",
"total_pct_chg",
"ma_other_pct_chg"),
pctchg = c("total_pct_chg",
"original_pct_chg",
"ma_other_pct_chg"),
pct = c("original_pct",
"ma_other_pct")) |>
gt::cols_label(total_pct_chg = "Total % Change",
original_pct_chg = "Original % Change",
ma_other_pct_chg = "Advantage % Change",
original_pct = "Original %",
ma_other_pct = "Advantage %")
mdcr_enroll_ab_1 |>
dplyr::select(year,
total_pct_chg,
original_pct_chg,
ma_other_pct_chg,
original_pct,
ma_other_pct) |>
provider:::gt_prov(divider = c("year",
"total_pct_chg",
"ma_other_pct_chg"),
pctchg = c("total_pct_chg",
"original_pct_chg",
"ma_other_pct_chg"),
pct = c("original_pct",
"ma_other_pct")) |>
gt::tab_spanner(label = "CHANGE (%)",
columns = c(original_pct_chg, ma_other_pct_chg)) |>
gt::cols_label(total_pct_chg = "Total % Change",
original_pct_chg = "Original % Change",
ma_other_pct_chg = "Advantage % Change",
original_pct = "Original %",
ma_other_pct = "Advantage %")
mdcr_enroll_ab_1 |>
dplyr::select(year,
total_pct_chg,
original_pct_chg,
ma_other_pct_chg,
original_pct,
ma_other_pct) |>
provider:::gt_prov(divider = c("year",
"total_pct_chg",
"ma_other_pct_chg"),
pctchg = c("total_pct_chg",
"original_pct_chg",
"ma_other_pct_chg"),
pct = c("original_pct",
"ma_other_pct")) |>
gt::tab_spanner(label = "YEAR-OVER-YEAR CHANGE (%)",
columns = c(original_pct_chg, ma_other_pct_chg)) |>
gt::cols_label(total_pct_chg = "Total % Change",
original_pct_chg = "Original",
ma_other_pct_chg = "Advantage",
original_pct = "Original %",
ma_other_pct = "Advantage %")
mdcr_enroll_ab_1 |>
dplyr::select(year,
total_pct_chg,
original_pct_chg,
ma_other_pct_chg,
original_pct,
ma_other_pct) |>
provider:::gt_prov(divider = c("year",
"total_pct_chg",
"ma_other_pct_chg"),
pctchg = c("total_pct_chg",
"original_pct_chg",
"ma_other_pct_chg"),
pct = c("original_pct",
"ma_other_pct")) |>
gt::tab_spanner(label = "YEAR-OVER-YEAR CHANGE (%)",
columns = c(original_pct_chg,
ma_other_pct_chg)) |>
gt::tab_spanner(label = "PERCENTAGE OF TOTAL",
columns = c(original_pct,
ma_other_pct)) |>
gt::cols_label(total_pct_chg = "Total % Change",
original_pct_chg = "Original",
ma_other_pct_chg = "Advantage",
original_pct = "Original",
ma_other_pct = "Advantage")
mdcr_enroll_ab_1 |>
dplyr::select(year,
total_pct_chg,
original_pct_chg,
ma_other_pct_chg,
original_pct,
ma_other_pct) |>
provider:::gt_prov(divider = c("year",
"total_pct_chg",
"ma_other_pct_chg"),
pctchg = c("total_pct_chg",
"original_pct_chg",
"ma_other_pct_chg"),
pct = c("original_pct",
"ma_other_pct")) |>
gt::tab_spanner(label = "YEAR-OVER-YEAR CHANGE (%)",
columns = c(total_pct_chg,
original_pct_chg,
ma_other_pct_chg)) |>
gt::tab_spanner(label = "PERCENTAGE OF TOTAL",
columns = c(original_pct,
ma_other_pct)) |>
gt::cols_label(total_pct_chg = "Total",
original_pct_chg = "Original",
ma_other_pct_chg = "Advantage",
original_pct = "Original",
ma_other_pct = "Advantage")
mdcr_enroll_ab_1 |>
dplyr::select(year,
total_pct_chg,
original_pct_chg,
ma_other_pct_chg,
original_pct,
ma_other_pct) |>
provider:::gt_prov(divider = c("year",
"ma_other_pct_chg"),
pctchg = c("total_pct_chg",
"original_pct_chg",
"ma_other_pct_chg"),
pct = c("original_pct",
"ma_other_pct")) |>
gt::tab_spanner(label = "YEAR-OVER-YEAR CHANGE (%)",
columns = c(total_pct_chg,
original_pct_chg,
ma_other_pct_chg)) |>
gt::tab_spanner(label = "PERCENTAGE OF TOTAL",
columns = c(original_pct,
ma_other_pct)) |>
gt::cols_label(total_pct_chg = "Total",
original_pct_chg = "Original",
ma_other_pct_chg = "Advantage",
original_pct = "Original",
ma_other_pct = "Advantage")
mdcr_enroll_ab_1
mdcr_enroll_ab_1 |>
dplyr::select(year,
total_pct_chg,
original_pct_chg,
ma_other_pct_chg,
original_pct,
ma_other_pct,
original) |>
provider:::gt_prov(divider = c("year",
"ma_other_pct_chg"),
pctchg = c("total_pct_chg",
"original_pct_chg",
"ma_other_pct_chg"),
pct = c("original_pct",
"ma_other_pct")) |>
gt::tab_spanner(label = "YEAR-OVER-YEAR CHANGE (%)",
columns = c(total_pct_chg,
original_pct_chg,
ma_other_pct_chg)) |>
gt::tab_spanner(label = "PERCENTAGE OF TOTAL",
columns = c(original_pct,
ma_other_pct)) |>
gt::cols_label(total_pct_chg = "Total",
original_pct_chg = "Original",
ma_other_pct_chg = "Advantage",
original_pct = "Original",
ma_other_pct = "Advantage") |>
gtExtras::gt_plt_bar(column = original, keep_column = F)
mdcr_enroll_ab_1 |>
dplyr::select(year,
total_pct_chg,
original_pct_chg,
ma_other_pct_chg,
original_pct,
ma_other_pct,
original,
ma_other) |>
provider:::gt_prov(divider = c("year",
"ma_other_pct_chg"),
pctchg = c("total_pct_chg",
"original_pct_chg",
"ma_other_pct_chg"),
pct = c("original_pct",
"ma_other_pct")) |>
gt::tab_spanner(label = "YEAR-OVER-YEAR CHANGE (%)",
columns = c(total_pct_chg,
original_pct_chg,
ma_other_pct_chg)) |>
gt::tab_spanner(label = "PERCENTAGE OF TOTAL",
columns = c(original_pct,
ma_other_pct)) |>
gt::cols_label(total_pct_chg = "Total",
original_pct_chg = "Original",
ma_other_pct_chg = "Advantage",
original_pct = "Original",
ma_other_pct = "Advantage") |>
gtExtras::gt_plt_bar(column = original,
keep_column = FALSE) |>
gtExtras::gt_plt_bar(column = ma_other,
keep_column = FALSE)
mdcr_enroll_ab_1 |>
dplyr::select(year,
total_pct_chg,
original_pct_chg,
ma_other_pct_chg,
original_pct,
ma_other_pct,
original,
ma_other) |>
provider:::gt_prov(divider = c("year",
"ma_other_pct_chg"),
pctchg = c("total_pct_chg",
"original_pct_chg",
"ma_other_pct_chg"),
pct = c("original_pct",
"ma_other_pct")) |>
gt::tab_spanner(label = "YEAR-OVER-YEAR CHANGE (%)",
columns = c(total_pct_chg,
original_pct_chg,
ma_other_pct_chg)) |>
gt::tab_spanner(label = "PERCENTAGE OF TOTAL",
columns = c(original_pct,
ma_other_pct)) |>
gt::cols_label(total_pct_chg = "Total",
original_pct_chg = "Original",
ma_other_pct_chg = "Advantage",
original_pct = "Original",
ma_other_pct = "Advantage") |>
gtExtras::gt_plt_bar(column = original,
keep_column = FALSE,
width = 30) |>
gtExtras::gt_plt_bar(column = ma_other,
keep_column = FALSE,
width = 30)
mdcr_enroll_ab_1 |>
dplyr::select(year,
total_pct_chg,
original_pct_chg,
ma_other_pct_chg,
original_pct,
ma_other_pct,
original,
ma_other) |>
provider:::gt_prov(divider = c("year",
"ma_other_pct_chg"),
pctchg = c("total_pct_chg",
"original_pct_chg",
"ma_other_pct_chg"),
pct = c("original_pct",
"ma_other_pct")) |>
gt::tab_spanner(label = "YEAR-OVER-YEAR CHANGE (%)",
columns = c(total_pct_chg,
original_pct_chg,
ma_other_pct_chg)) |>
gt::tab_spanner(label = "PERCENTAGE OF TOTAL",
columns = c(original_pct,
ma_other_pct)) |>
gt::cols_label(total_pct_chg = "Total",
original_pct_chg = "Original",
ma_other_pct_chg = "Advantage",
original_pct = "Original",
ma_other_pct = "Advantage") |>
gtExtras::gt_plt_bar(column = original,
keep_column = FALSE,
width = 30,
scale_type = "percent") |>
gtExtras::gt_plt_bar(column = ma_other,
keep_column = FALSE,
width = 30)
mdcr_enroll_ab_1 |>
dplyr::select(year,
total_pct_chg,
original_pct_chg,
ma_other_pct_chg,
original_pct,
ma_other_pct,
original,
ma_other) |>
provider:::gt_prov(divider = c("year",
"ma_other_pct_chg"),
pctchg = c("total_pct_chg",
"original_pct_chg",
"ma_other_pct_chg"),
pct = c("original_pct",
"ma_other_pct")) |>
gt::tab_spanner(label = "YEAR-OVER-YEAR CHANGE (%)",
columns = c(total_pct_chg,
original_pct_chg,
ma_other_pct_chg)) |>
gt::tab_spanner(label = "PERCENTAGE OF TOTAL",
columns = c(original_pct,
ma_other_pct)) |>
gt::cols_label(total_pct_chg = "Total",
original_pct_chg = "Original",
ma_other_pct_chg = "Advantage",
original_pct = "Original",
ma_other_pct = "Advantage") |>
gtExtras::gt_plt_bar(column = original,
keep_column = FALSE,
width = 30,
scale_type = "number") |>
gtExtras::gt_plt_bar(column = ma_other,
keep_column = FALSE,
width = 30)
mdcr_enroll_ab_1 |>
dplyr::select(year,
total_pct_chg,
original_pct_chg,
ma_other_pct_chg,
original_pct,
ma_other_pct,
original,
ma_other) |>
provider:::gt_prov(divider = c("year",
"ma_other_pct_chg"),
pctchg = c("total_pct_chg",
"original_pct_chg",
"ma_other_pct_chg"),
pct = c("original_pct",
"ma_other_pct")) |>
gt::tab_spanner(label = "YEAR-OVER-YEAR CHANGE (%)",
columns = c(total_pct_chg,
original_pct_chg,
ma_other_pct_chg)) |>
gt::tab_spanner(label = "PERCENTAGE OF TOTAL",
columns = c(original_pct,
ma_other_pct)) |>
gt::cols_label(total_pct_chg = "Total",
original_pct_chg = "Original",
ma_other_pct_chg = "Advantage",
original_pct = "Original",
ma_other_pct = "Advantage") |>
gtExtras::gt_plt_bar_pct(column = original,
scaled = FALSE,
fill = "blue",
background = "lightblue")
mdcr_enroll_ab_1 |>
dplyr::select(year,
original_pct,
ma_other_pct)
mdcr_enroll_ab_1 |>
dplyr::select(year,
original_pct,
ma_other_pct) |>
tidyr::pivot_longer(!year, names_to = "measure", values_to = "data")
dplyr::group_by(year) |>
dplyr::summarise(list_data = list(data))
mdcr_enroll_ab_1 |>
dplyr::select(year,
original_pct,
ma_other_pct) |>
tidyr::pivot_longer(!year,
names_to = "measure",
values_to = "data") |>
dplyr::group_by(year) |>
dplyr::summarise(list_data = list(data))
mdcr_enroll_ab_1 |>
dplyr::select(year,
original_pct,
ma_other_pct) |>
tidyr::pivot_longer(!year,
names_to = "measure",
values_to = "data") |>
dplyr::group_by(year) |>
dplyr::summarise(list_data = list(data)) |>
gt::gt() %>%
gtExtras::gt_plt_bar_stack(column = list_data)
mdcr_enroll_ab_1 |>
dplyr::select(year,
original_pct,
ma_other_pct) |>
tidyr::pivot_longer(!year,
names_to = "measure",
values_to = "data") |>
dplyr::group_by(year)
mdcr_enroll_ab_1 |>
dplyr::select(year,
original_pct,
ma_other_pct) |>
tidyr::pivot_longer(!year,
names_to = "measure",
values_to = "data") |>
dplyr::group_by(year) |>
dplyr::summarise(list_data = list(data)) |>
gt::gt() |>
gtExtras::gt_plt_bar_stack(column = list_data,
labels = c("Original", "Advantage"))
mdcr_enroll_ab_1 |>
dplyr::select(year,
original_pct,
ma_other_pct) |>
tidyr::pivot_longer(!year,
names_to = "measure",
values_to = "data") |>
dplyr::group_by(year) |>
dplyr::summarise(list_data = list(data)) |>
gt::gt() |>
gtExtras::gt_plt_bar_stack(column = list_data,
labels = c("Original ", " Advantage"),
fmt_fn = scales::label_percent(accuracy = 0.01, trim = TRUE))
